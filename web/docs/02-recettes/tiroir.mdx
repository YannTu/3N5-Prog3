---
hide_table_of_contents: true
---

# Tiroir de navigation


Le code de cette recette est disponible [ici](https://github.com/departement-info-cem/3N5-Prog3/tree/main/code/RecetteTiroir).

<Row>

<Column size="4" >

![Tiroir de navigation](_tiroir/tiroir.png)

</Column>

</Row>

<Tabs queryString="recette-menu">
  <TabItem value="preambule" label="Préambule">

    Assurez-vous d'activer la barre d'application en suivant les étapes de la recette [Barre d'application](/recettes/app-bar).

  </TabItem>
  <TabItem value="tiroir.xml" label="tiroir.xml">

    Ce fichier sert à définir les éléments du tiroir.

    Par défaut, un projet Android ne possède pas la structure pour gérer un menu. Il faut donc la créer.

    Ajoutez un dossier `menu` dans le dossier `res` de votre projet.

    ![Resource menu 1](_tiroir/resource_menu1.png)

    - Directory name : `menu`
    - Resource type : `menu`

    ![Resource menu 2](_tiroir/resource_menu2.png)

    Nous pouvons maintenant ajouter le fichier `tiroir.xml` dans ce dossier.

    ![Resource menu 3](_tiroir/resource_menu3.png)

    Voici un exemple de fichier `tiroir.xml` :

    <GHCode
      repo="3N5-Prog3"
      filePath="code/RecetteTiroir/app/src/main/res/menu/tiroir.xml"
    />

:::tip Icônes

Pour voir comment ajouter des icônes dans vos projets, réferez-vous à la recette des [Icônes](/recettes/icones).

:::

</TabItem>
<TabItem value="nav_header.xml" label="nav_header.xml">

  Il est possible d'ajouter un en-tête au tiroir de navigation si vous le désirez.

  Dans l'image plus haut, l'en-tête est composé du texte "Bienvenue sur votre tiroir" et de "57 + 23 = 80".

  Créez un fichier layout nommé `nav_header.xml` dans le dossier `res/layout` de votre projet.

  <GHCode
    repo="3N5-Prog3"
    filePath="code/RecetteTiroir/app/src/main/res/layout/nav_header.xml"
  />

</TabItem>
<TabItem value="activity_main.xml" label="activity_main.xml">

  La mise en place d'un tiroir de navigation nécessite une structure particulière.

  Grossièrement, cette structure est composée de trois éléments :
  
    - DrawerLayout : englobe la vue pour gérer la transition entre le contenu principal et le tiroir.
    - LinearLayout (ou autre) : contenu principal de l'activité.
    - NavigationView : items de menu listés dans le tiroir.

  <GHCode
    repo="3N5-Prog3"
    filePath="code/RecetteTiroir/app/src/main/res/layout/activity_main.xml"
  />

</TabItem>
<TabItem value="MainActivity.kt" label="MainActivity.kt">

  Il faut maintenant lier tout les éléments ensemble, dans **chaque activité** où on veut afficher un tiroir. 

  Vous aurez besoin d'utiliser des ressources de string pour les noms des items du tiroir (voir la ligne surlignée ci-dessous). Référez vous à la recette des [ressources String](./ressources-string.mdx).

  <GHCode
    repo="3N5-Prog3"
    filePath="code/RecetteTiroir/app/src/main/java/org/depinfo/recettetiroir/MainActivity.kt"
    startLine="12"
  />

</TabItem>

</Tabs>