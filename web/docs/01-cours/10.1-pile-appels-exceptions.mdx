---
title: Pile d'appels et exceptions
description: Pile d'appels et exceptions
hide_table_of_contents: true
---

# Pile d'appels et exceptions ‚ö†Ô∏è

<Row>

<Column>

:::warning Avant la s√©ance (2h)

- Vous devez regarder les vid√©os.
- Vous devez lire la documentation sur les exceptions en Kotlin **[ici](https://kotlinlang.org/docs/exceptions.html)**

<Video url="https://www.youtube.com/watch?v=7BrKDnNnuqU" />

[Code apr√®s la vid√©o](https://github.com/departement-info-cem/3N5-Prog3/tree/main/code/VideoExceptions)

<Video url="https://youtu.be/M1WfpIARfQo" />

[Code apr√®s la vid√©o](https://github.com/departement-info-cem/3N5-Prog3/tree/main/code/VideoPile)

:::

</Column>

<Column>

:::info √Ä faire pendant la s√©ance

- Pr√©sentation du **[troisi√®me travail](../tp/tp3)**.
- Compl√©ter les exercices de la semaine.

:::

</Column>

</Row>

:::note Exercices

### Exercice TrouveLaValeur

Vous devez √©crire une fonction appel√©e `trouveru` qui prend en param√®tre :

- un tableau de String (Array\<String\>): le tableau dans lequel on cherche
- un String: l'√©l√©ment qu'on cherche

La m√©thode doit avoir le comportement suivant:

- Si l'√©l√©ment est dans le tableau, vous renvoyez l'index de la premi√®re cellule o√π il se trouve.
- Si l'√©l√©ment n'est pas dans le tableau, vous lancez une exception. Vous devez d√©finir la classe d'exception dans une classe et choisir un nom d'exception significatif.

Finalement vous devez d√©montrer le fonctionnement de votre code dans une fonction main avec :

- Un appel normal (o√π on trouve l'√©l√©ment).
- Un appel exceptionnel (qui lance l'exception). Vous devez faire un try catch pour attraper l'exception. 

### Exercice Bon ‚úîÔ∏è ou Non ‚ùå

Cr√©ez un fichier nomm√© `BonOuPas.md` pour noter vos r√©ponses et les montrer √† votre enseignant.

Voici des situations. Dites si le code est bon, ou pas, et pourquoi.

#### Exemple 1

```kotlin
fun uneFonction(){
    try {
        //du code‚Ä¶
    } catch (e: Exception){
        println("Erreur : $e")
    } catch (a: ArrayIndexOutOfBoundsException){
        println("Erreur : $a")
    }
}
```

#### Exemple 2

```kotlin
fun calculerPoidsSupernova() {
	try {
		//calculs compliqu√©s...
	} catch (e: NumberFormatException) {}
}
```

### Exercice Attrape üé£ ou Transmet üì° ?

Cr√©ez un fichier nomm√© `AttrapeOuTransmet.md` pour noter vos r√©ponses et les montrer √† votre enseignant.

Voici des situations. Dites si on devrait attraper (**catch**) ou laisser la fonction parente g√©rer l'exception, et pourquoi.

#### Exemple 1

```kotlin
fun main() {
	try {
		calcul()
		lireFichier()
	} catch (a: ArithmeticException) {
		println("Probl√®me dans les valeurs du calcul")
	} catch (i: IllegalArgumentException) {
		println("Probl√®me dans les param√®tres du programme")		
	} catch (t: InterruptedException){
		println("Probl√®me avec le thread en cours")	
	} catch (io: IOException){
        println("Probl√®me avec le fichier")
    } 
}

fun lireFichier(){
	// Code qui lit un fichier...
    // highlight-next-line
	// Question : Catch ou laisse l'erreur se propager?
}
```

#### Exemple 2

```kotlin
fun uneFonction(){
	etape1()
	etape2()
	etape3()
	etape4()
	etape5()
}

public void etape3(){
	// Code qui g√©n√®re une exception
    // highlight-next-line
	// Question : Catch ou laisse l'erreur se propager?
}
```

### Exercice sans machine üë®‚Äçüé§üë®‚Äçüíº

Cr√©ez un fichier nomm√© `SansMachine.md` pour noter vos r√©ponses et les montrer √† votre enseignant.

Sans ex√©cuter, selon toi est-ce que les 2 m√©thodes suivantes donnent le m√™me r√©sultat ou non?

Cr√©e toi un projet pour valider ta r√©ponse si les m√©thodes sont pareilles ou non.

```kotlin
fun lireDesFichiersForTry() {
    for (i in 1 until 10) {
        try {
            lireFichier("$i.txt")
        } catch (e: FileNotFoundException) {
            println("fichier n'existe pas")
        }
    }
}

fun lireDesFichiersTryFor() {
    try {
        for (i in 1 until 10) {
            lireFichier("$i.txt")
        }
    } catch (e: FileNotFoundException) {
        println("fichier n'existe pas")
    }
}	
```

:::
